<h1 align=center>Postfix实验报告</h1>

<h1 align=center>18340052  何泽</h1>

## 1. 比较静态成员和非静态成员

- 首先，在Java中，类的静态成员的数据在全局是唯一的，即静态成员不属于任何一个类的对象，它不保存在任意一个对象的内存空间中，而是保存在类的公共区域中，所以任何一个对象都可以直接访问该类的静态成员，都能获得相同的数据值，修改时，也在类的公共区域进行修改
- 但是，在这个程序中lookahead成员是否为static对于程序正确性并无影响，因为自始至终只创建了一个Parser对象，是否为静态对程序的正确性无影响
- 此外，在编程过程中，如果类的某一个变量需要所有对象都访问，那么声明为static自然是极好的，因为可以保证数据的一致性，另外引用起来也更方便一些

## 2. 无错误情况运行截图

<img src="../图片/编译运行.png" alt="编译运行" style="zoom: 50%;" />

测例1:

<img src="../图片/测例1.png" alt="测例1" style="zoom:50%;" />

测例2:

<img src="../图片/测例2.png" alt="测例2" style="zoom:50%;" />

**可以看出结果正确**

## 3. 错误处理与恢复

**我的做法是遇到错误则指明具体位置报错同时忽略此字符继续向下检测，这样在即使出错最后仍然可以得到一个后缀表达式**

#### ① 思路

- 首先，我对原程序的数据结构做了一些更改，原本是每次读一个字符然后每次处理完输出一个字符，但是这样的设计在我看来并不适合错误的定位显示与恢复，所以我新建了两个列表，在一开始将整个表达式读入并将每个字符都存入列表input，处理过程中将结果的字符存入result列表，在最后一起输出
- 在没有错误的情况下整个程序只有match函数会使lookahead索引往后移，所以在读入的时候就检查是否为空格，如果是就输出错误信息并读取下一个字符直到遇到非空格字符
- term函数的作用是将数字加入到结果列表中，所以我加了一步判断，检测当前位置是否为数字，如果不是的话则说明有两个操作符在一起，便报语法错误，同时自动忽略此字符并读取下一个字符直到遇到数字
- rest函数的作用是将加减操作符加入到结果列表，于是和上一个一样，检测当前字符，如果是+或-则没有错误，加入到结果列表；如果是数字则代表有两个数字连在一起，则报语法错误两个运算量之间缺少运算符；如果是其它操作符则报词法错误，为非法操作符；同时遇错则自动忽略此字符并读取下一个字符直到合法

#### ② 错误处理恢复截图

- 非法运算符

    <img src="../图片/非法运算符.png" alt="非法运算符" style="zoom:50%;" />

- 数字间缺少运算符

    <img src="../图片/两位数字.png" alt="两位数字" style="zoom:50%;" />

- 两个运算符间缺少运算量

    <img src="../图片/缺少运算量.png" alt="缺少运算量" style="zoom:50%;" />

- 表达式中有空格

    <img src="../图片/有空格.png" alt="有空格" style="zoom:50%;" />

- 测例3

    <img src="../图片/测例3.png" alt="测例3" style="zoom:50%;" />

- 测例4

    <img src="../图片/测例4.png" alt="测例4" style="zoom:50%;" />

- 多个错误综合

    <img src="../图片/多个错误.png" alt="多个错误" style="zoom:50%;" />

**由上可以看出即使有多个错误依然可以准确定位显示信息并恢复继续向下检测与转换**

